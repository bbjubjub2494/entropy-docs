"use strict";(self.webpackChunkentropy_core=self.webpackChunkentropy_core||[]).push([[238],{8696:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var r=t(6070),o=t(6113);const s={},i="Command-line interface",c={id:"reference/cli",title:"Command-line interface",description:"The command-line interface (CLI) is a straightforward way to experiment with the Entropy network and explore common workflows.",source:"@site/docs/reference/cli.md",sourceDirName:"reference",slug:"/reference/cli",permalink:"/reference/cli",draft:!1,unlisted:!1,editUrl:"https://github.com/entropyxyz/entropy-docs/edit/main/docs/reference/cli.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Networks",permalink:"/reference/networks"}},a={},l=[{value:"Install",id:"install",level:2},{value:"Functions",id:"functions",level:2},{value:"Manage Accounts",id:"manage-accounts",level:3},{value:"Create or Import Account",id:"create-or-import-account",level:4},{value:"Select Account",id:"select-account",level:4},{value:"List Accounts",id:"list-accounts",level:4},{value:"Balance",id:"balance",level:3},{value:"Register",id:"register",level:3},{value:"Transfer",id:"transfer",level:3},{value:"Sign",id:"sign",level:3},{value:"In Development",id:"in-development",level:2},{value:"Deploy Program",id:"deploy-program",level:3},{value:"User Programs",id:"user-programs",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"How do I quit the CLI?",id:"how-do-i-quit-the-cli",level:4},{value:"ERR::: RpcError: 1010: Invalid Transaction: Inability to pay some fees , e.g. account balance too low",id:"err-rpcerror-1010-invalid-transaction-inability-to-pay-some-fees--eg-account-balance-too-low",level:4},{value:"CLI crashes when registering",id:"cli-crashes-when-registering",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"command-line-interface",children:"Command-line interface"}),"\n",(0,r.jsx)(n.p,{children:"The command-line interface (CLI) is a straightforward way to experiment with the Entropy network and explore common workflows."}),"\n",(0,r.jsx)(n.p,{children:"In its current state, the CLI acts more like a text-based user interface (TUI). In the future, all functions will be callable directly from your terminal prompt using arguments and modifiers. For the time being, you can use this CLI to experiment and play around with the Entropy network."}),"\n",(0,r.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,r.jsx)(n.p,{children:"Follow these steps to manually install the CLI."}),"\n",(0,r.jsxs)(n.admonition,{title:"One-line install",type:"tip",children:[(0,r.jsx)(n.p,{children:"Already know what you're doing and just want to get the CLI going? Run this one-liner to install the CLI's dependencies, clone the repository, build the project, and run the interface:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"# Debian/Ubuntu\nsudo apt update -y && sudo apt install nodejs npm -y && npm install -g yarn && git clone https://github.com/entropyxyz/cli && cd cli && yarn && yarn\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"# MacOS\nbrew update && brew install node && source ~/.zshrc && npm install -g yarn && git clone https://github.com/entropyxyz/cli && cd cli && yarn && yarn\n"})}),(0,r.jsx)(n.p,{children:"If you're new to the CLI or just want to see what each command outputs, follow the rest of this guide."})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Make sure you've got Yarn 1.22.X installed:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"# MacOS\nbrew install yarn\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Debian/Ubuntu\nsudo apt install yarn -y\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Arch\nsudo pacman -S yarn\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Clone the Entropy CLI repository and move into the new directory:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone https://github.com/entropyxyz/cli && cd cli\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build the CLI with Yarn:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yarn\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Start the CLI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yarn start\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You should now see the main menu:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Select Action (Use arrow keys)\n\n> Balance\n  Deploy Program\n  User Programs\n  Register\n  Construct an Ethereum Tx\n  Sign\n  Transfer\n  Give Zaps\n  Wallet\n  Exit\n"})}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsx)(n.p,{children:"The following functions are available in the CLI."}),"\n",(0,r.jsx)(n.h3,{id:"manage-accounts",children:"Manage Accounts"}),"\n",(0,r.jsx)(n.p,{children:"Create a new Entropy account to store locally. List all Entropy accounts stored locally. Import an account into the CLI using a seed."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"> Create/Import Account\n  Select Account\n  List Accounts\n"})}),"\n",(0,r.jsx)(n.h4,{id:"create-or-import-account",children:"Create or Import Account"}),"\n",(0,r.jsx)(n.p,{children:"Create a new Entropy account or import an existing account using a seed."}),"\n",(0,r.jsx)(n.h4,{id:"select-account",children:"Select Account"}),"\n",(0,r.jsx)(n.p,{children:"Select an account to use within other functions. This is relevant if you have multiple accounts."}),"\n",(0,r.jsxs)(n.p,{children:["For example, assume you have three accounts, and you want to check the balance of ",(0,r.jsx)(n.code,{children:"account 2"}),". You would:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Start the CLI."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Manage Accounts"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Select Account"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Choose the account that you would like to select and use within other functions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Choose account: (Use arrow keys)\n> Gael (5CrFp9txcb5UECpNKsD6DTBsG4cj1z58DA43YikSVeeJqXJR)\n  Argo (5Dcps2RdXPQfiJBxxDnrF8iDzDHcnZC8rb5mcJ3xicqzhYbv)\n  Lapp (5G92hBs4UfZpVFYtBmmN3UqPTzGgotq7PSA3XfBMALfvWDUb)\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"The account you select is what the CLI will use when running other functions."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"list-accounts",children:"List Accounts"}),"\n",(0,r.jsxs)(n.p,{children:["Show all the locally stored accounts. This function shows secret details such as ",(0,r.jsx)(n.code,{children:"seed"})," in plaintext."]}),"\n",(0,r.jsx)(n.h3,{id:"balance",children:"Balance"}),"\n",(0,r.jsx)(n.p,{children:"Get the balance of an account. You can select any of the accounts stored locally or enter an Entropy address."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Select Action Balance\nAddress 5Dcps2RdXPQfiJBxxDnrF8iDzDHcnZC8rb5mcJ3xicqzhYbv has a balance of: 382000000000000 bits\n? Return to main menu? (Y/n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"register",children:"Register"}),"\n",(0,r.jsx)(n.p,{children:"Register a locally stored account with the Entropy network."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"Attempting to register the address: 5Dcps2RdXPQfiJBxxDnrF8iDzDHcnZC8rb5mcJ3xicqzhYbv\nYour address 5Dcps2RdXPQfiJBxxDnrF8iDzDHcnZC8rb5mcJ3xicqzhYbv has been successfully registered.\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The selected account must have available funds. Each registration costs about ",(0,r.jsx)(n.code,{children:"400000000"})," bits."]}),"\n",(0,r.jsx)(n.h3,{id:"transfer",children:"Transfer"}),"\n",(0,r.jsx)(n.p,{children:"Transfer funds from a locally stored account to any other valid Entropy address."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Select Action Transfer\n? Input amount to transfer: 12345\n? Input recipient's address: 5G92hBs4UfZpVFYtBmmN3UqPTzGgotq7PSA3XfBMALfvWDUb\nTransferring Funds |++++___________________| 22%\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"amount to transfer"})," value is in whole units, not bits. So transferring ",(0,r.jsx)(n.code,{children:"1"})," would equal ",(0,r.jsx)(n.code,{children:"10000000000"})," bits."]}),"\n",(0,r.jsx)(n.h3,{id:"sign",children:"Sign"}),"\n",(0,r.jsx)(n.p,{children:"Sign a message using a registered account."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Choose account: (Use arrow keys)\n\n  aragon (5FTwtSAjnKFybzkAKvyEo7owikXcHXmwzN7MzjwDNKEbjkub)\n> charlie (5Ck5SLSHYac6WFt5UZRSsdJjwmpSZq85fd5TRNAdZQVzEAPT)\n  Other\n"})}),"\n",(0,r.jsx)(n.h2,{id:"in-development",children:"In Development"}),"\n",(0,r.jsx)(n.p,{children:"The following functions are currently in development and may not currently work as intended."}),"\n",(0,r.jsx)(n.h3,{id:"deploy-program",children:"Deploy Program"}),"\n",(0,r.jsx)(n.p,{children:"Deploy a program from a locally stored account."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Select Action Deploy Program\n? Select your action: (Use arrow keys)\n> Deploy\n  Get Program Pointers\n\n  Exit\n"})}),"\n",(0,r.jsx)(n.h3,{id:"user-programs",children:"User Programs"}),"\n",(0,r.jsx)(n.p,{children:"View all programs deployed to the network from locally stored accounts."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Select Action User Programs\n? What would you like to do? (Use arrow keys)\n> View My Programs\n  Add a Program to My List\n  Remove a Program from My List\n  Check if Program Exists\n  Exit to Main Menu\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.p,{children:"Here are some common problems you could encounter and how to get around them."}),"\n",(0,r.jsx)(n.h4,{id:"how-do-i-quit-the-cli",children:"How do I quit the CLI?"}),"\n",(0,r.jsxs)(n.p,{children:["Press ",(0,r.jsx)(n.code,{children:"CTRL"})," + ",(0,r.jsx)(n.code,{children:"c"})," at any point to exit the CLI program, even if you're within a function:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"? Select Action Transfer\n? Input amount to transfer: 1000\n? Input recipient's address:        <----- Pressed `CTRL` + `c` here.\nerror Command failed with exit code 130.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nuser@computer: $\n"})}),"\n",(0,r.jsx)(n.h4,{id:"err-rpcerror-1010-invalid-transaction-inability-to-pay-some-fees--eg-account-balance-too-low",children:"ERR::: RpcError: 1010: Invalid Transaction: Inability to pay some fees , e.g. account balance too low"}),"\n",(0,r.jsxs)(n.p,{children:["This likely means that you don't have enough funds in the selected account to complete that function. Double-check that you've selected the correct account and that the account has enough funds in it. If you need more test funds, ",(0,r.jsx)(n.a,{href:"/guides/get-funds",children:"head over to the faucet for more"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"cli-crashes-when-registering",children:"CLI crashes when registering"}),"\n",(0,r.jsx)(n.p,{children:"You may encounter the following error when registering:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"2024-06-05 00:11:42        REGISTRY: Unknown signed extensions ValidateConfirmRegistered found, treating them as no-effect\n2024-06-05 00:11:42        API/INIT: RPC methods not decorated: chainSpec_v1_chainName, chainSpec_v1_genesisHash, chainSpec_v1_properties\nAttempting to register the address: 5Dcps2RdXPQfiJBxxDnrF8iDzDHcnZC8rb5mcJ3xicqzhYbv\n/root/cli/src/config/index.ts:21\n  return JSON.parse(configBuffer.toString())\n              ^\nSyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at Object.get (/root/cli/src/config/index.ts:21:15)\n\n    at async EventEmitter.<anonymous> (/root/cli/src/common/initializeEntropy.ts:102:23)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This is a bug that the Entropy team are aware of, and are working on a fix. In the meantime, restart the CLI and try to register that account again. If it keep failing, please raise an issue in the ",(0,r.jsx)(n.a,{href:"https://github.com/entropyxyz/cli/issues",children:"Entropy CLI repository"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},6113:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(758);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);